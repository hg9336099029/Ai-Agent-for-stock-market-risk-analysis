# AI Stock & Portfolio Risk Analysis Platform

> **A deterministic financial risk engine enhanced with AI-powered explainability.**

## ğŸ” Project Analysis & Overview

This project is a sophisticated risk analysis platform that bridges the gap between **quantitative financial modeling** and **Generative AI**. Unlike many "AI wrappers" that rely solely on LLMs for calculations (which can be prone to hallucination), this platform uses a **hybrid architecture**:

1.  **Quantitative Core**: All risk metrics (Beta, Volatility, sharpe ratio, etc.) are calculated using **deterministic implementations** of standard financial formulas. This ensures mathematical accuracy and reproducibility.
2.  **AI Layer**: Generative AI (Llama 3 via Groq) is used purely for **interpretation and explanation**. It takes the hard numbers and verified news context to explain *why* a risk score is high or low, without ever having to calculate the numbers itself.

### System Architecture

```mermaid
graph TD
    User[User / Investor] -->|Interacts| UI[Frontend (React + Vite)]
    UI -->|API Requests| API[Backend API (FastAPI)]
    
    subgraph "Backend System"
        API -->|Dispatch| RiskEngine[Risk Engine (NumPy)]
        API -->|Dispatch| NewsRAG[News RAG System]
        API -->|Dispatch| AIService[AI Service (Groq)]
        
        RiskEngine -->|Fetch Data| MarketData[Market Data Provider]
        NewsRAG -->|Fetch & Verify| NewsSources[News APIs]
        
        RiskEngine -->|Metrics| ContextBuilder[Context Builder]
        NewsRAG -->|Verified News| ContextBuilder
        
        ContextBuilder -->|Prompt + Context| AIService
    end
    
    AIService -->|Explanation| UI
    RiskEngine -->|Raw Metrics| UI
```

---

## ğŸš€ Key Features

### 1. Deterministic Risk Engine `backend/app/risk_engine/`
The heart of the system is a mathematically rigorous engine that computes:
-   **Market Risk**: Beta (vs S&P 500), Annualized Volatility, Correlation matrices.
-   **Financial Risk**: Debt-to-Equity ratios, Interest Coverage, Liquidity analysis.
-   **Portfolio Metrics**: Weighted risk scores, diversification benefits, and concentration risks.

### 2. AI-Powered Insights `backend/app/ai/`
The logic in `explanation.py` ensures that AI is used responsibly:
-   **Context-Aware**: The LLM is fed precise, pre-calculated metrics.
-   **No Hallucination**: The prompt structure strictly restrains the AI to interpret provided data.
-   **Groq Acceleration**: Uses Groq's LPU inference for near-instant explanations.

### 3. Verified News RAG `backend/app/news_rag/`
A Retrieval-Augmented Generation (RAG) system specifically for financial news:
-   **Multi-Source Verification**: News is cross-referenced across multiple sources.
-   **Confidence Scoring**: Each news item is assigned a confidence score based on source credibility and corroboration.

---

## ğŸ› ï¸ Technology Stack

| Component | Technology | Purpose |
| :--- | :--- | :--- |
| **Frontend** | React, Vite | High-performance, reactive UI |
| **Styling** | Tailwind CSS | Modern, responsive design |
| **Backend** | PostgreSQL, FastAPI | High-concurrency Async IO API |
| **Computation** | NumPy, Pandas | Efficient numerical analysis |
| **AI Inference** | Groq (Llama 3) | Low-latency LLM inference |
| **Data** | yfinance | Market data ingestion |

---

## âš¡ Quick Start Guide

### Prerequisites
-   Python 3.10+
-   Node.js 18+
-   Groq API Key (Get one at [console.groq.com](https://console.groq.com))

### 1. Backend Setup

```bash
cd backend

# Create virtual environment
python -m venv venv
# Windows: venv\Scripts\activate
# Mac/Linux: source venv/bin/activate

# Install dependencies
pip install -r requirements.txt

# Configure Environment
cp .env.example .env
# Edit .env and paste your GROQ_API_KEY
```

**Run the Server:**
```bash
uvicorn app.main:app --reload
```
*Server runs at: `http://localhost:8000`*

### 2. Frontend Setup

```bash
cd frontend

# Install dependencies
npm install

# Run Development Server
npm run dev
```
*App runs at: `http://localhost:5174`*

---

## ğŸ“‚ Project Structure

```
ai-stock-risk-platform/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ main.py            # Application entry point
â”‚   â”‚   â”œâ”€â”€ risk_engine/       # Mathematical core (NumPy)
â”‚   â”‚   â”œâ”€â”€ ai/                # Groq integration & Prompts
â”‚   â”‚   â”œâ”€â”€ news_rag/          # News verification logic
â”‚   â”‚   â””â”€â”€ api/               # REST Endpoints
â”‚   â””â”€â”€ requirements.txt
â”‚
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/        # Reusable UI components
â”‚   â”‚   â”œâ”€â”€ pages/             # Main application views
â”‚   â”‚   â””â”€â”€ services/          # API integration
â”‚   â””â”€â”€ vite.config.js
```

## âš ï¸ Disclaimer
This tool is for educational and research purposes only. The risk metrics are based on historical data and standard financial models, and the AI interpretations are generated by a Large Language Model. **This is not financial advice.** Always conduct your own due diligence.
